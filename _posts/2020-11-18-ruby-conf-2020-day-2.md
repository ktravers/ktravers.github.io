---
layout: post
title: Notes from RubyConf2020 Day 2
---

## Keynote: Kerri Miller

"If you can move it, it isn't broken"

New item for the bucket list: "The 1000 mile stomachache" roadtrip

Learnings from a cross-country motorcycle trip:  
- Ambition
- Failure
- Resilience
- Storytelling

When something bad happens, "at least you get a story out of it"  
- True for motorcycle accidents and code
- Be resilient
- Opportunity to learn and help others
- The story you tell yourself about failures is important

Ambitious systems:  
- Multidisciplinary
- Large and complicated
  - Too large for one team to fully understand
- Success breeds essentiality
- Undefinable end state
  - How do you know when you're done?
  - What does success look like?
  - Ignore complexity for speed
  - All systems without a well-defined end state will bend towards complexity and chaos

Dwarf Fortress example:  
- Dev ships new "tavern" feature
- Then bug report comes in: "There's cat vomit all over my tavern" (??)
- Design bugs can be subtle, easy to miss and make mistakes

Good quotes:  
- "Software is the resolution of the argument between the proactive and the pragmatic"
- "The most dangerous thought you can have as a creative person is to think you know what you're doing" (Bret Victor)
- "Code is inherently incorrect. It's always in a state of undiscovered failure"

Why are we so resistent to change?  
- We want to be right
- Risk being vulnerable
- Risk our professional reputation
- Risk our self-image ("Do I know what I'm doing?")


## Demonstration: Making a ractor (Koichi Sasada)

[Ractor](https://github.com/ruby/ruby/blob/master/doc/ractor.md) is an experimental feature in Ruby 3.0

> Ractor is designed to provide a parallel execution feature of Ruby without thread-safety concerns.

Performance:  
- Object creation on ractors is slower, needs improvement before GA.

Limited object sharing:  
- Most objects are not shared among multiple Ractors
- Avoid synchronization bugs
- However there are immutable objects and "special shared objects"

Communication types:  
- In general, message passing on incoming- and outgoing- ports
- Supports push / Actor style communication
- Supports pull / rendezvous style communication
- Send objects via message passing by copy or move

Demos:  
- Ractor-based "load balancer"
- Ractor-based worker pool
- Pipeline

Summary:  
- Ractor provides parallel execution without thread-safety headaches
- Part of Ruby 3.0
- Ractor API and implementation is not mature
  - Ruby 3.0 is the preview release
  - Feedback welcome

## The Bug That Forced Me to Understand Memory Compaction (Emily Giurleo)

_Note: I dropped in late because I already caught an early version of this talk at nyc.rb_

Great talk, highly recommend checking out the [slides](https://docs.google.com/presentation/d/1VmJyyM9dY5clrlCj8hkzkQY8DYZYM-HGYIBl5JAhUhU/edit#slide=id.p).

This bug hunt story is specific to Ruby gem with C extension.

Takeaways:  
- Knowledge sharing is crucial
- You never know when the knowledge you put in the world will help someone out of a huge jam like this one, so just put it out there!

Summary:  
- Ruby 2.7 includes manual memory compaction
- When maintaining an existing gem with C extension, maually mark long-lived objects and refs
- Newer C extensions can use new convenience methods for pinning and marking objects

## Storytelling and Talent Show

Theme: "A time when technology wasn't the answer"

"Unexpected side effects of medical advances"  
- How 23andMe found his half sister!
- Got pregnant, so they did 23andMe
- Months later, 23andMe emailed him "Hey you have a half sibling" (!!)
- Turns out his dad was a sperm donor back in medical school, but donation bank didn't track anything. So this was a happy surprise!
- Everyone was understanding and now they're one bigger happy family

"The Time I Robbed a Bank"  
- Takes money out of an ATM, notices account has a lot more money than expected
- Checks again, now account has even more money in it (thousands more!!)
- So they take out a bunch just to see what happens
- Spends all of it on fun night out with friends, buying rounds for the whole bar, etc
- Over the next few months, kept checking, and the money was always in there (didn't spend much more though)
- Then one day sees account drops to -$25,000 ðŸ˜±
- CitiBank is unresponsive, wants him to pay the money back
- Finally get someone on the phone, no surprise, it was an accident
- CitiBank resolved everything and sent him a check for 1 cent, which is now framed in his living room

"Names are Hard"  
- Back in 2015, wants to set up a feminist tech conference
- Recruited some friends, got lots set up, but still didn't have a name
- Stumped. Couldn't pick a name, ended up picking the one they disliked the least: "&:conf"
- Problems started immediately
  - Google doesn't recognize ampersands, so unsearchable, zero SEO
  - Lots of other sites mishandled the special characters
  - No one knew how to pronounce it out loud
- Renamed to "AndConf"
- Then they decided to start a SF Ruby Meetup
- Named it "SF.rb", which shouldn't have caused any problems
- EXCEPT they wanted to include the dot in everything, so used "#SFdotRB", etc. It didn't go over well
- Renamed to "Fog City Ruby"
- Lesson learned: keep technology out of naming things

"The Hunt for Lean Manufacturing Kanban"  
- Yeast rancher!
- Wanted to use kanban board for tracking physical inventory
- Read some LEAN manufacturing books, but hard to find implementation details
- Found a video detailing how a hospital successfully implemented a kanban tracking system, decided to use this as their model
- Couple years later, needed to iterate on kanban system
- Found a bakery example that looked useful, switched to that
- Now EVERYTHING at the facility is kanbaned: coffee, toilet paper, etc
- And life is good! Yay kanban!

"The Magic of Coins"  
- Needed to choose college major
- Loved computer science, thinking minor in Education
- But school forced everyone to do broad liberal arts courses first year
- Twist! Fell in love with chemistry
- Now very conflicted, avoided decision til the last minute
- Chemistry professor flipped a coin to decide back in the day, so they recommend to do the same
- Flips coin, it's computer science 4 times in a row
- Keeps using this technique to the day! Used to choose between industry vs graduate school, let friends borrow it, too
- Chance > technology

Plus original song and poetry performances!

## Automation Engineering with Serverless Compute (Kevin Lesht)


